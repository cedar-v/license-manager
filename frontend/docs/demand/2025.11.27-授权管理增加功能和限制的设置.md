# 授权管理增加功能与限制设置需求（2025-11-27）

## 1. 背景与目标
- 接口 `POST /licenses` 提供 `custom_parameters`、`usage_limits` 两个 JSON 字符串字段，用于描述授权功能和限制。
- 现有前端缺少可视化配置能力，需补充简单易用的表单，支持运营人员直接配置并提交。

## 2. 核心需求
1. 在授权创建/编辑流程中提供两个区域：“功能设置”“限制设置”，均以键值形式展示，可动态增删行。
2. 输入格式统一：`key:value`，键需唯一且只包含小写字母/数字/连字符，值为任意文本。
3. 点击“提交”前将所有条目转换为 JSON 字符串写入对应字段；为空时传空字符串或 `null`。
4. 支持复制当前配置、清空全部、实时预览 JSON。
5. 文案纳入多语言文件，保持与 Vue I18n/Element Plus 一致。

## 3. 交互要点
- UI 使用 Element Plus 表单 + 表格（或列表）即可，提供“添加条目”“删除”“复制”等基础操作。
- 删除前弹出确认，避免误操作；校验不通过时在输入框下方直接提示。
- 不做移动端适配，仅保证桌面端正常使用。

## 4. 接口约定
```json
POST /api/licenses
{
  "name": "License A",
  "custom_parameters": "{\"feature_dashboard\":\"enabled\"}",
  "usage_limits": "{\"device_max\":\"500\"}"
}
```
- 前端负责生成字符串并提交，后端原样存储。
- 详情页读取后解析为键值表格展示，与编辑态保持一致。

## 5. 验收标准
1. 授权创建/编辑页面可顺利增删改键值对，并能提交成功。
2. 校验提示明确，禁止重复或非法键值。
3. 详情页可直接阅读与复制已配置的功能、限制。