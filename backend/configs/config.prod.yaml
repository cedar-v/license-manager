server:
  host: "0.0.0.0"
  port: 18888
  mode: "release"

database:
  driver: "mysql"
  host: "mysql"
  port: 3306
  username: "license_user"
  password: "license@123"
  database: "license_manager"
  charset: "utf8mb4"
  parse_time: true
  loc: "Local"
  max_idle_conns: 50
  max_open_conns: 300
  conn_max_lifetime: 3600
  auto_migrate: true

auth:
  jwt:
    secret: "please-change-in-prod"
    expire_hours: 1
    refresh_threshold_minutes: 30
  cu_jwt:
    secret: "please-change-cu-jwt-secret-in-prod"
    expire_hours: 24
    refresh_threshold_minutes: 60
  security:
    max_login_attempts: 5
    lockout_duration_minutes: 15

log:
  level: "info"
  format: "json"

i18n:
  enable: true
  default_lang: "zh-CN"
  config_path: "../configs/i18n/errors"
  support_langs: ["zh-CN", "en-US", "ja-JP"]

license:
  # RSA非对称加密配置
  rsa:
    private_key_path: "../configs/rsa_private_key.pem" # RSA私钥文件路径（服务器端使用，必须保密）
    public_key_path: "../configs/rsa_public_key.pem"   # RSA公钥文件路径（客户端使用，可以公开）
    key_size: 2048                                   # 密钥大小：2048或4096，默认2048
  
  heartbeat_timeout: 300 # 心跳超时时间(秒) - 5分钟内为在线
  offline_timeout: 1440 # 离线超时时间(分钟) - 24小时后为异常
  expiring_days: 30 # 即将过期天数 - 30天内到期算即将过期

payment:
  # 默认支付方式
  default_method: alipay

  # 支付提供商配置 - 生产环境支付宝配置
  providers:
    alipay:
      enabled: true
      app_id: "your-prod-app-id"
      private_key: "your-prod-private-key"
      public_key: "your-prod-public-key"
      gateway_url: "https://openapi.alipay.com/gateway.do"
      notify_url: "https://your-domain.com/api/payment/alipay/callback"
      return_url: "https://your-domain.com/payment/success"
      sign_type: "RSA2"
      charset: "utf-8"
      format: "json"

  # 通用支付配置
  expire_minutes: 30  # 支付过期时间（分钟）
  retry_times: 3      # 支付重试次数
  enable_log: true    # 启用支付日志

sms:
  enabled: false  # 生产环境默认禁用，需要配置阿里云AccessKey
  access_key_id: ""        # 请配置生产环境阿里云AccessKey ID
  access_key_secret: ""    # 请配置生产环境阿里云AccessKey Secret
  sign_name: "惠州顺视智能科技"
  region_id: "cn-hangzhou"
  endpoint: "dysmsapi.aliyuncs.com"

  # 模板配置（可选，不配置则使用默认值）
  templates:
    register: ""   # 生产环境注册验证码模板
    reset_pwd: ""  # 生产环境重置密码验证码模板
    login: ""      # 生产环境登录验证码模板

