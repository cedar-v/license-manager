# 用户管理模块设计

## 表结构设计

### 用户表 (users)

**基础信息属性**
- `id` - 主键 (UUID)
- `username` - 用户名，唯一
- `email` - 邮箱地址，唯一  
- `password_hash` - 密码哈希值
- `full_name` - 真实姓名
- `phone` - 手机号码

**角色权限属性**
- `role` - 用户角色 (admin管理员/operator操作员/viewer查看者)
- `status` - 账号状态 (active活跃/disabled禁用/locked锁定)

**登录相关属性**
- `last_login_at` - 最后登录时间
- `last_login_ip` - 最后登录IP
- `login_attempts` - 登录失败次数
- `locked_until` - 账号锁定到期时间

**时间字段**
- `created_at` - 创建时间
- `updated_at` - 更新时间

## 角色权限说明

**admin (管理员)**
- 完整的系统管理权限
- 可以管理用户、授权码、许可证
- 可以查看所有报表和日志

**operator (操作员)**
- 可以创建和管理授权码
- 可以管理许可证
- 可以查看相关报表
- 不能管理用户

**viewer (查看者)**
- 只读权限
- 可以查看授权码和许可证信息
- 可以查看报表
- 不能进行任何修改操作

## 安全机制

**密码策略**
- 最小长度8位
- 包含大小写字母、数字、特殊字符
- 定期提醒更换密码

**账号锁定**
- 连续5次登录失败自动锁定30分钟
- 管理员可手动解锁账号

**会话管理**
- JWT Token有效期24小时
- 支持Token刷新机制